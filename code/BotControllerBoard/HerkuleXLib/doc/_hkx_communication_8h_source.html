<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>HerkuleXLib: /home/benoit/sketchbook/libraries/HerkuleXLib/HkxCommunication.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HerkuleXfigure.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HerkuleXLib
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Arduino library to drive HerkuleX DRS-0101 and DRS-0201</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/benoit/sketchbook/libraries/HerkuleXLib/HkxCommunication.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_hkx_communication_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _HKXCOMMUNICATION_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define _HKXCOMMUNICATION_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;Arduino.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_hkx_status_8h.html">HkxStatus.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">const</span> <span class="keywordtype">bool</span> HKX_DEV = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">const</span> uint8_t HKX_WAIT_TIME = 10; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">const</span> uint8_t HKX_NUMBER_SEND_TRIALS = 5; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">const</span> uint8_t HKX_NUMBER_CONNECT_TRIALS = 2; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">const</span> uint8_t HKX_SERIAL_BUFFER = 64; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_ID = 0xFD;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">const</span> uint8_t HKX_ID_ALL = 0xFE;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_POLICY = 0x7F;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_TEMPERATURE = 0xFE;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_VOLTAGE = 0xFE;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_ACCELERATION_RATIO = 50;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_TIME = 0xFE;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_POSITIONNING = 0xFE;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_SATURATOR_OFFSET = 0xFE;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_MIN_PWM = 0xFE;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">const</span> uint16_t HKX_MAX_PWM = 0x3FF;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">const</span> uint16_t HKX_MAX_POSITION = 0x3FF;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">const</span> uint16_t HKX_MAX_CONTROL_PARAM = 0x7FFF;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">const</span> uint8_t HKX_MAX_CHECK_PERIOD = 0xFE;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">enum</span> hkxCommand:uint8_t{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  HKX_CMD_ROM_WRITE   = 0x01,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  HKX_CMD_ROM_READ    = 0x02,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  HKX_CMD_RAM_WRITE   = 0x03,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  HKX_CMD_RAM_READ    = 0x04,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  HKX_CMD_I_JOG       = 0x05,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  HKX_CMD_S_JOG       = 0x06,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  HKX_CMD_STAT        = 0x07,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  HKX_CMD_ROLLBACK    = 0x08,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  HKX_CMD_REBOOT      = 0x09,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;};</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">enum</span> hkxMemory:<span class="keywordtype">bool</span>{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  HKX_ROM  = 0,</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  HKX_RAM = 1,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;};</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">  109</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a>:uint32_t{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  HKX_57600 = 57600,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  HKX_115200 = 115200,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  HKX_200000 = 200000,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  HKX_250000 = 250000,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  HKX_400000 = 400000,</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  HKX_500000 = 500000,</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  HKX_666666 = 666666,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="_hkx_communication_8h.html#a1e7963ea5fc67f633e6b62a44fa8f5cc">  127</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_hkx_communication_8h.html#a1e7963ea5fc67f633e6b62a44fa8f5cc">hkxTorqueControl</a>:uint8_t{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  HKX_TORQUE_FREE  = 0x00,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  HKX_TORQUE_BREAK = 0x40,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  HKX_TORQUE_ON = 0x60,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;};</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="_hkx_communication_8h.html#aad9bef84223a4169aaea1caef91a1a0d">  146</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_hkx_communication_8h.html#aad9bef84223a4169aaea1caef91a1a0d">hkxLEDControl</a>:uint8_t{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  HKX_LED_OFF  = 0x00,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  HKX_LED_GREEN = 0x01,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  HKX_LED_BLUE = 0x02,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  HKX_LED_RED = 0x04,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  HKX_LED_CYAN = 0x03,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  HKX_LED_YELLOW = 0x05,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  HKX_LED_PINK = 0x06,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  HKX_LED_WHITE = 0x07,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;};</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="_hkx_communication_8h.html#a6b9acde20a7766ebd5fcbcdde1a8954f">  164</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_hkx_communication_8h.html#a6b9acde20a7766ebd5fcbcdde1a8954f">hkxControlMode</a>:uint8_t{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  HKX_CTRL_POSITION = 0x00,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  HKX_CTRL_ROTATION = 0x01,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;};</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> int16_t temperatureConversion[] = {-7947,-7178,-6320,-5781,-5380,-5058,-4786,-4549,-4340,-4151,-3979,-3820,-3673,-3535, </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    -3406,-3283,-3167,-3057,-2951,-2850,-2753,-2659,-2569,-2482,-2397,-2315,-2236,-2159,-2083,-2010,-1938,-1868,-1800,-1733,-1667,-1603,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    -1539,-1477,-1417,-1357,-1298,-1240,-1183,-1126,-1071,-1016,-962,-909,-856,-804,-753,-702,-652,-602,-553,-504,-456,-408,-361,-314,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    -267,-221,-175,-129,-84,-39,5,49,93,137,181,224,267,310,352,394,437,478,520,562,603,644,686,727,767,808,849,889,929,970,1010,1050,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    1090,1130,1170,1209,1249,1289,1328,1368,1407,1447,1486,1526,1565,1605,1644,1684,1723,1762,1802,1841,1881,1920,1960,1999,2039,2079,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    2119,2158,2198,2238,2278,2318,2359,2399,2439,2480,2520,2561,2602,2643,2684,2725,2766,2808,2850,2891,2933,2976,3018,3060,3103,3146,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    3189,3232,3276,3320,3364,3408,3453,3497,3542,3588,3633,3679,3725,3772,3818,3866,3913,3961,4009,4057,4106,4156,4205,4256,4306,4357,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    4409,4461,4513,4566,4619,4673,4728,4783,4839,4895,4952,5009,5068,5127,5186,5247,5308,5370,5433,5496,5561,5626,5693,5760,5828,5898,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    5968,6040,6113,6187,6263,6339,6417,6497,6578,6861,6746,6832,6920,7010,7102,7196,7292,7391,7492,7596,7703,7812,7925,8041,8160,8284,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    8411,8542,8679,8820,8966,9118,9276,9441,9613,9793,9982,10181,10390,10611,10845,11093,11359,11643,11949,12280,12641,13036,13472,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    13959,14509,15139,15873,16750,17829,19218,21132,24101,30091</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="_hkx_communication_8h.html#a8574ad870745c0d2f5cf419e7fd22a76">  191</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="_hkx_communication_8h.html#a8574ad870745c0d2f5cf419e7fd22a76">hkxMaybeHasNoValue</a>:<span class="keywordtype">bool</span>{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  HKX_NO_VALUE,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;};</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">class </span>HkxMaybe {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> _empty; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  T* <span class="keyword">const</span> _value;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  HkxMaybe() : _empty(true), _value(0){};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  HkxMaybe(<a class="code" href="_hkx_communication_8h.html#a8574ad870745c0d2f5cf419e7fd22a76">hkxMaybeHasNoValue</a> noValue) : _empty(true), _value(0){};</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  HkxMaybe(T value) : _empty(false), _value(new T(value)){};</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  HkxMaybe(T* addressValue) : _empty(false), _value(addressValue){};</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  ~HkxMaybe(){_value-&gt;~T();};</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">bool</span> isEmpty()<span class="keyword"> const </span>{<span class="keywordflow">return</span> _empty; };</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  T&amp; getValue()<span class="keyword"> const </span>{<span class="keywordflow">if</span>(!_empty){<span class="keywordflow">return</span> *_value;}};</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">void</span> setValue(T value) {<span class="keywordflow">if</span>(!_empty){*_value = value;}};</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;};</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="class_hkx_print.html">  278</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_hkx_print.html">HkxPrint</a> {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a0c3ba905120940ef1ebdfecf657c31e8">  287</a></span>&#160;  <a class="code" href="class_hkx_print.html#a0c3ba905120940ef1ebdfecf657c31e8">HkxPrint</a>() : _errorMessages(false), _warningMessages(false), _infoMessages(false), _serialPrint(0){};</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="class_hkx_print.html#ab0d7729b517806a790ba2ce62ce3e227">  298</a></span>&#160;  <a class="code" href="class_hkx_print.html#ab0d7729b517806a790ba2ce62ce3e227">HkxPrint</a>(HardwareSerial&amp; serialPrint, <span class="keywordtype">long</span> baudrate) : _errorMessages(true), _warningMessages(false), _infoMessages(false), _serialPrint(&amp;serialPrint){</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    _serialPrint-&gt;begin(baudrate);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">infoPrint</a>(F(<span class="stringliteral">&quot;start &gt; Start the communication for printing&quot;</span>));</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  };</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a6891a4cd859384bd97c498179c715081">  315</a></span>&#160;  <a class="code" href="class_hkx_print.html#a6891a4cd859384bd97c498179c715081">HkxPrint</a>(HardwareSerial&amp; serialPrint, <span class="keywordtype">long</span> baudrate, <span class="keywordtype">bool</span> errorMessages, <span class="keywordtype">bool</span> warningMessages, <span class="keywordtype">bool</span> infoMessages) : _errorMessages(errorMessages), _warningMessages(warningMessages), _infoMessages(infoMessages), _serialPrint(&amp;serialPrint){</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    _serialPrint-&gt;begin(baudrate);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">infoPrint</a>(F(<span class="stringliteral">&quot;start &gt; Start the communication for printing&quot;</span>));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  };</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a16fd96a57829bf88a0c1b674868d9de6">  334</a></span>&#160;  <a class="code" href="class_hkx_print.html#a16fd96a57829bf88a0c1b674868d9de6">HkxPrint</a>(<a class="code" href="class_hkx_print.html">HkxPrint</a> hkxPrint, <span class="keywordtype">bool</span> errorMessages, <span class="keywordtype">bool</span> warningMessages, <span class="keywordtype">bool</span> infoMessages) : _errorMessages(errorMessages), _warningMessages(warningMessages), _infoMessages(infoMessages), _serialPrint(hkxPrint._serialPrint){};</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  </div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a39af4e5f91070a13091e66cb109038fb">  347</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_hkx_print.html#a39af4e5f91070a13091e66cb109038fb">errorPrint</a>(<span class="keyword">const</span> String&amp; message)<span class="keyword"> const </span>{<span class="keywordflow">if</span>(_errorMessages){_serialPrint-&gt;println(String(F(<span class="stringliteral">&quot;Error:   &quot;</span>)) + message);}};</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a2ff4a61d585dcc619a9622949e235da4">  360</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_hkx_print.html#a2ff4a61d585dcc619a9622949e235da4">warningPrint</a>(<span class="keyword">const</span> String&amp; message)<span class="keyword"> const </span>{<span class="keywordflow">if</span>(_warningMessages){_serialPrint-&gt;println(String(F(<span class="stringliteral">&quot;Warning: &quot;</span>)) + message);}};</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">  373</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">infoPrint</a>(<span class="keyword">const</span> String&amp; message)<span class="keyword"> const </span>{<span class="keywordflow">if</span>(_infoMessages){_serialPrint-&gt;println(String(F(<span class="stringliteral">&quot;Info:    &quot;</span>)) + message);}};</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">boolean</span> _errorMessages;      </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">boolean</span> _warningMessages;    </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">boolean</span> _infoMessages;       </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  HardwareSerial* <span class="keyword">const</span> _serialPrint; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;};</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keyword">class </span>HkxUnitConversion {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keyword">static</span> int16_t voltageRawToValue(uint8_t voltageRaw){<span class="keywordflow">return</span> (uint16_t)voltageRaw*74;};</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keyword">static</span> uint8_t voltageValueToRaw(int16_t voltageValue){<span class="keywordflow">return</span> (uint8_t)(voltageValue/74);};</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keyword">static</span> int16_t temperatureRawToValue(uint8_t temperatureRaw){<span class="keywordflow">return</span> temperatureConversion[temperatureRaw];};</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keyword">static</span> uint8_t temperatureValueToRaw(int16_t temperatureValue){</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    uint8_t temperatureRaw = 128;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    uint8_t sup = 254;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    uint8_t inf = 0;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">while</span>((temperatureConversion[temperatureRaw] != temperatureValue) &amp;&amp; ((sup - inf) &gt; 1) ){ <span class="comment">//dichotomy</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">if</span>(temperatureConversion[temperatureRaw] &gt; temperatureValue) {sup = temperatureRaw;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">else</span> {inf = temperatureRaw;}</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      temperatureRaw = (sup + inf)/2;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span> temperatureRaw; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }; <span class="comment">// lower value approximation</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keyword">static</span> int16_t angleRawToValue(int16_t angleRaw){<span class="keywordflow">return</span> ((int32_t)angleRaw)*326/100;};</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keyword">static</span> int16_t angleValueToRaw(int16_t angleValue){<span class="keywordflow">return</span> ((int32_t)angleValue*100/326)+(angleValue&lt;0?-1:(angleValue&gt;0?1:0));}; <span class="comment">// +1 because of the rounding</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keyword">static</span> int16_t positionRawToValue(uint16_t positionRaw){<span class="keywordflow">return</span> angleRawToValue((int16_t)positionRaw - 512);};</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">static</span> uint16_t positionValueToRaw(int16_t positionValue){<span class="keywordflow">return</span> angleValueToRaw(positionValue) + 512;};</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keyword">static</span> int16_t velocityRawToValue(int16_t velocityRaw){<span class="keywordflow">return</span> ((int32_t)velocityRaw)*2909/100;};</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keyword">static</span> int16_t velocityValueRaw(int16_t velocityValue){<span class="keywordflow">return</span> ((int32_t)velocityValue)*100/2909+(velocityValue&lt;0?-1:(velocityValue&gt;0?1:0));}; <span class="comment">// +1 because of the rounding</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keyword">static</span> uint16_t timeRawToValue(uint8_t timeRaw){<span class="keywordflow">return</span> ((uint16_t)timeRaw*112)/10;};</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keyword">static</span> uint8_t timeValueToRaw(uint16_t timeValue){<span class="keywordflow">return</span> (uint8_t)((timeValue*10)/112)+1;}; <span class="comment">// +1 because of the rounding</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keyword">static</span> uint16_t slopeRawToValue(uint16_t slopeRaw){<span class="keywordflow">return</span> ((uint32_t)(slopeRaw?slopeRaw:32768)*1000)/835;};</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keyword">static</span> uint16_t slopeValueToRaw(uint16_t slopeValue){</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    uint16_t slopeRaw = (((uint32_t)slopeValue*835)/1000) + 1; <span class="comment">// +1 because of the rounding (+ avoid 0 reserved for no slope)</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> slopeRaw&gt;32767?0:slopeRaw;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  };</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keyword">static</span> <a class="code" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a> baudrateRawToValue(uint8_t baudrateRaw){</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">switch</span> (baudrateRaw){</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">case</span> 0x02 : <span class="keywordflow">return</span> HKX_666666;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">case</span> 0x03 : <span class="keywordflow">return</span> HKX_500000;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">case</span> 0x04 : <span class="keywordflow">return</span> HKX_400000;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">case</span> 0x07 : <span class="keywordflow">return</span> HKX_250000;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">case</span> 0x09 : <span class="keywordflow">return</span> HKX_200000;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">case</span> 0x10 : <span class="keywordflow">return</span> HKX_115200;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">case</span> 0x22 : <span class="keywordflow">return</span> HKX_57600; }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  };</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keyword">static</span> uint8_t baudrateValueToRaw(<a class="code" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a> baudrate){</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">switch</span> (baudrate){</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">case</span> HKX_666666 : <span class="keywordflow">return</span> 0x02;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">case</span> HKX_500000 : <span class="keywordflow">return</span> 0x03;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">case</span> HKX_400000 : <span class="keywordflow">return</span> 0x04;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">case</span> HKX_250000 : <span class="keywordflow">return</span> 0x07;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">case</span> HKX_200000 : <span class="keywordflow">return</span> 0x09;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">case</span> HKX_115200 : <span class="keywordflow">return</span> 0x10;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">case</span> HKX_57600  : <span class="keywordflow">return</span> 0x22; }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  };</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;};</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="class_hkx_communication.html">  599</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_hkx_communication.html">HkxCommunication</a> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  uint8_t _packetRead[HKX_SERIAL_BUFFER]; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  HardwareSerial&amp; _serialServos; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="class_hkx_print.html">HkxPrint</a>&amp; _print; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keyword">const</span> String _className; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordtype">void</span> sendPacket(uint8_t ID, hkxCommand CMD, <span class="keyword">const</span> uint8_t data[], uint8_t dataLength);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  uint8_t receivePacket(uint8_t&amp; dataLength);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  uint8_t readPacket(uint8_t&amp; ID, hkxCommand&amp; CMD, uint8_t data[], uint8_t dataLength, HkxMaybe&lt;HkxStatus&gt; statusED);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  uint8_t checkSum1(uint8_t packetSize, uint8_t ID, hkxCommand CMD, <span class="keyword">const</span> uint8_t data[], uint8_t dataLength){</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    uint8_t cks = packetSize ^ ID ^ CMD;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0 ; i &lt; dataLength ; i++){</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      cks = cks ^ data[i];</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> cks &amp; 0xFE;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  };</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  uint8_t checkSum2(uint8_t checkSum1){<span class="keywordflow">return</span> (~checkSum1) &amp; 0xFE;};</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordtype">void</span> reinitPacketRead(){memset(_packetRead,0,<span class="keyword">sizeof</span>(_packetRead));};</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordtype">void</span> cleanSerialBuffer(){<span class="keywordflow">while</span>(this-&gt;_serialServos.available()){this-&gt;_serialServos.read();}};</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">void</span> errorPrint(<span class="keyword">const</span> String&amp; message){<span class="keywordflow">if</span>(_print._errorMessages){_print.<a class="code" href="class_hkx_print.html#a39af4e5f91070a13091e66cb109038fb">errorPrint</a>(_className + message);}};</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordtype">void</span> warningPrint(<span class="keyword">const</span> String&amp; message){<span class="keywordflow">if</span>(_print._errorMessages){_print.<a class="code" href="class_hkx_print.html#a2ff4a61d585dcc619a9622949e235da4">warningPrint</a>(_className + message);}};</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordtype">void</span> infoPrint(<span class="keyword">const</span> String&amp; message){<span class="keywordflow">if</span>(_print._errorMessages){_print.<a class="code" href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">infoPrint</a>(_className + message);}};</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <a class="code" href="class_hkx_communication.html#a2e0785c74ca4f7550a3fcc35f0acc727">HkxCommunication</a>(<a class="code" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a> baudrate, HardwareSerial&amp; serialServos, <a class="code" href="class_hkx_print.html">HkxPrint</a>&amp; print);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  uint8_t readRequest(uint8_t ID, hkxMemory mem, uint8_t start, uint8_t length, uint8_t returnData[], HkxMaybe&lt;HkxStatus&gt; statusED);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  uint8_t writeRequest(uint8_t ID, hkxMemory mem, uint8_t start, uint8_t length, <span class="keyword">const</span> uint8_t writeData[]);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  uint8_t statusRequest(uint8_t ID, <a class="code" href="class_hkx_status.html">HkxStatus</a>&amp; statusED);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  uint8_t iJogRequest(uint8_t length, <span class="keyword">const</span> uint16_t jog[], <span class="keyword">const</span> uint8_t set[], <span class="keyword">const</span> uint8_t ID[], <span class="keyword">const</span> uint8_t playTime[]);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  uint8_t sJogRequest(uint8_t playTime, uint8_t length, <span class="keyword">const</span> uint16_t jog[], <span class="keyword">const</span> uint8_t set[], <span class="keyword">const</span> uint8_t ID[]);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordtype">void</span> start(<a class="code" href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a> newBaudrate){</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    _serialServos.begin(newBaudrate);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    infoPrint(F(<span class="stringliteral">&quot;start &gt; Start the communication with the servos&quot;</span>));</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordtype">void</span> stop(){</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    this-&gt;_serialServos.end();</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    infoPrint(F(<span class="stringliteral">&quot;stop &gt; Stop the communication with the servos&quot;</span>));</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  uint8_t rebootRequest(uint8_t ID){</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span>(HKX_DEV &amp;&amp; ID &gt; 0xFE){</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      errorPrint(F(<span class="stringliteral">&quot;rebootRequest &gt; input values not correct&quot;</span>));</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    uint8_t sData[0];</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    sendPacket(ID, HKX_CMD_REBOOT, sData, 0);  </div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  };</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  uint8_t rollbackRequest(uint8_t ID, <span class="keywordtype">boolean</span> IDskip, <span class="keywordtype">boolean</span> bandSkip){</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span>(HKX_DEV &amp;&amp; ID &gt; 0xFE){</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      errorPrint(F(<span class="stringliteral">&quot;rollbackRequest &gt; input values not correct&quot;</span>));</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    uint8_t data[] = {IDskip?(uint8_t)1:(uint8_t)0 , bandSkip?(uint8_t)1:(uint8_t)0};</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    sendPacket(ID, HKX_CMD_ROLLBACK, data, 2);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  };</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  HardwareSerial&amp; getSerial(){<span class="keywordflow">return</span> _serialServos;};</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;};</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">#endif    // _HKXCOMMUNICATION_H</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="ttc" id="class_hkx_print_html_ab0d7729b517806a790ba2ce62ce3e227"><div class="ttname"><a href="class_hkx_print.html#ab0d7729b517806a790ba2ce62ce3e227">HkxPrint::HkxPrint</a></div><div class="ttdeci">HkxPrint(HardwareSerial &amp;serialPrint, long baudrate)</div><div class="ttdoc">Active constructor with default values. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:298</div></div>
<div class="ttc" id="class_hkx_print_html_a2ff4a61d585dcc619a9622949e235da4"><div class="ttname"><a href="class_hkx_print.html#a2ff4a61d585dcc619a9622949e235da4">HkxPrint::warningPrint</a></div><div class="ttdeci">void warningPrint(const String &amp;message) const </div><div class="ttdoc">Print warning. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:360</div></div>
<div class="ttc" id="class_hkx_communication_html_a2e0785c74ca4f7550a3fcc35f0acc727"><div class="ttname"><a href="class_hkx_communication.html#a2e0785c74ca4f7550a3fcc35f0acc727">HkxCommunication::HkxCommunication</a></div><div class="ttdeci">HkxCommunication(hkxBaudrate baudrate, HardwareSerial &amp;serialServos, HkxPrint &amp;print)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.cpp:186</div></div>
<div class="ttc" id="class_hkx_print_html_a39af4e5f91070a13091e66cb109038fb"><div class="ttname"><a href="class_hkx_print.html#a39af4e5f91070a13091e66cb109038fb">HkxPrint::errorPrint</a></div><div class="ttdeci">void errorPrint(const String &amp;message) const </div><div class="ttdoc">Print error. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:347</div></div>
<div class="ttc" id="class_hkx_print_html_a0c3ba905120940ef1ebdfecf657c31e8"><div class="ttname"><a href="class_hkx_print.html#a0c3ba905120940ef1ebdfecf657c31e8">HkxPrint::HkxPrint</a></div><div class="ttdeci">HkxPrint()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:287</div></div>
<div class="ttc" id="_hkx_status_8h_html"><div class="ttname"><a href="_hkx_status_8h.html">HkxStatus.h</a></div><div class="ttdoc">Status management of the Arduino library for HerkuleX servo (DRS-0101 and DRS-0201 models) ...</div></div>
<div class="ttc" id="_hkx_communication_8h_html_a54928820c223565b81604641743586f1"><div class="ttname"><a href="_hkx_communication_8h.html#a54928820c223565b81604641743586f1">hkxBaudrate</a></div><div class="ttdeci">hkxBaudrate</div><div class="ttdoc">Baud rate. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:109</div></div>
<div class="ttc" id="_hkx_communication_8h_html_a1e7963ea5fc67f633e6b62a44fa8f5cc"><div class="ttname"><a href="_hkx_communication_8h.html#a1e7963ea5fc67f633e6b62a44fa8f5cc">hkxTorqueControl</a></div><div class="ttdeci">hkxTorqueControl</div><div class="ttdoc">Torque control. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:127</div></div>
<div class="ttc" id="class_hkx_communication_html"><div class="ttname"><a href="class_hkx_communication.html">HkxCommunication</a></div><div class="ttdoc">Class to manage the communication. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:599</div></div>
<div class="ttc" id="class_hkx_status_html"><div class="ttname"><a href="class_hkx_status.html">HkxStatus</a></div><div class="ttdoc">Class to manage the status of the servos. </div><div class="ttdef"><b>Definition:</b> HkxStatus.h:55</div></div>
<div class="ttc" id="class_hkx_print_html_a6891a4cd859384bd97c498179c715081"><div class="ttname"><a href="class_hkx_print.html#a6891a4cd859384bd97c498179c715081">HkxPrint::HkxPrint</a></div><div class="ttdeci">HkxPrint(HardwareSerial &amp;serialPrint, long baudrate, bool errorMessages, bool warningMessages, bool infoMessages)</div><div class="ttdoc">Active constructor. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:315</div></div>
<div class="ttc" id="_hkx_communication_8h_html_aad9bef84223a4169aaea1caef91a1a0d"><div class="ttname"><a href="_hkx_communication_8h.html#aad9bef84223a4169aaea1caef91a1a0d">hkxLEDControl</a></div><div class="ttdeci">hkxLEDControl</div><div class="ttdoc">LED control. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:146</div></div>
<div class="ttc" id="class_hkx_print_html"><div class="ttname"><a href="class_hkx_print.html">HkxPrint</a></div><div class="ttdoc">Class to manage the print of the messages. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:278</div></div>
<div class="ttc" id="class_hkx_print_html_a7f468c7affec1c05e58d6846d4052e80"><div class="ttname"><a href="class_hkx_print.html#a7f468c7affec1c05e58d6846d4052e80">HkxPrint::infoPrint</a></div><div class="ttdeci">void infoPrint(const String &amp;message) const </div><div class="ttdoc">Print info. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:373</div></div>
<div class="ttc" id="_hkx_communication_8h_html_a6b9acde20a7766ebd5fcbcdde1a8954f"><div class="ttname"><a href="_hkx_communication_8h.html#a6b9acde20a7766ebd5fcbcdde1a8954f">hkxControlMode</a></div><div class="ttdeci">hkxControlMode</div><div class="ttdoc">Control mode. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:164</div></div>
<div class="ttc" id="_hkx_communication_8h_html_a8574ad870745c0d2f5cf419e7fd22a76"><div class="ttname"><a href="_hkx_communication_8h.html#a8574ad870745c0d2f5cf419e7fd22a76">hkxMaybeHasNoValue</a></div><div class="ttdeci">hkxMaybeHasNoValue</div><div class="ttdoc">No value. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:191</div></div>
<div class="ttc" id="class_hkx_print_html_a16fd96a57829bf88a0c1b674868d9de6"><div class="ttname"><a href="class_hkx_print.html#a16fd96a57829bf88a0c1b674868d9de6">HkxPrint::HkxPrint</a></div><div class="ttdeci">HkxPrint(HkxPrint hkxPrint, bool errorMessages, bool warningMessages, bool infoMessages)</div><div class="ttdoc">Copy constructor. </div><div class="ttdef"><b>Definition:</b> HkxCommunication.h:334</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
